const cdp4j={parseSelector:function(e){let t,n=0,o=0;const r={parts:[]},i=()=>{const t=e.substring(o,n).trim(),i=t.indexOf("=");let s,l;-1!==i&&t.substring(0,i).trim().match(/^[a-zA-Z_0-9-+:*]+$/)?(s=t.substring(0,i).trim(),l=t.substring(i+1)):t.length>1&&'"'===t[0]&&'"'===t[t.length-1]?(s="text",l=t):t.length>1&&"'"===t[0]&&"'"===t[t.length-1]?(s="text",l=t):/^\(*\/\//.test(t)||t.startsWith("..")?(s="xpath",l=t):(s="css",l=t);let c=!1;if("*"===s[0]&&(c=!0,s=s.substring(1)),r.parts.push({name:s,body:l}),c){if(void 0!==r.capture)throw new Error("Only one of the selectors can capture using * modifier");r.capture=r.parts.length-1}};for(;n<e.length;){const r=e[n];"\\"===r&&n+1<e.length?n+=2:r===t?(t=void 0,n++):t||'"'!==r&&"'"!==r&&"`"!==r?t||">"!==r||">"!==e[n+1]?n++:(i(),o=n+=2):(t=r,n++)}return i(),r}};cdp4j.engine=function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function e(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var t=e(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createAttributeEngine=void 0,t.createAttributeEngine=function(e,t){const n={create(t,o){const r=o.getAttribute(e);if(r)return n.query(t,r)===o?r:void 0},query:(n,o)=>t?function e(t,n,o){const r=t.querySelector(`[${n}=${JSON.stringify(o)}]`);if(r)return r;const i=t.querySelectorAll("*");for(let t=0;t<i.length;t++){const r=i[t].shadowRoot;if(r){const t=e(r,n,o);if(t)return t}}}(n,e,o):n.querySelector(`[${e}=${JSON.stringify(o)}]`)||void 0,queryAll(n,o){if(!t)return Array.from(n.querySelectorAll(`[${e}=${JSON.stringify(o)}]`));const r=[];return function e(t,n,o,r){const i=t instanceof Document?t:t.ownerDocument,s=i.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),l=[];for(;s.nextNode();){const e=s.currentNode;e.getAttribute(n)===o&&r.push(e),e.shadowRoot&&l.push(e.shadowRoot)}for(const t of l)e(t,n,o,r)}(n,e,o,r),r}};return n}}),n=e(function(e,t){function n(e,t,n){let r=1;for(;r<t.length&&(e=o(e))&&e!==n;)e.matches(t[r])&&r++;return r===t.length}function o(e){return e.parentElement?e.parentElement:e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.parentNode.host?e.parentNode.host:void 0}function r(e){let t,n=0,o=!1,r=0;const i=[];let s=[];const l=()=>{const t=e.substring(r,n).trim();t.length&&s.push(t)},c=()=>{l(),i.push(s),s=[]},u=e=>">"===e||"+"===e||"~"===e,a=()=>e.substring(n).trim()[0],d=()=>{const t=e.substring(0,n).trim();return t[t.length-1]};for(;n<e.length;){const i=e[n];t||o||" "!==i||u(a())||u(d())?"\\"===i&&n+1<e.length?n+=2:i===t?(t=void 0,n++):t||"'"!==i&&'"'!==i?t||"["!==i?!t&&o&&"]"===i?(o=!1,n++):t||o||","!==i?n++:(c(),r=++n):(o=!0,n++):(t=i,n++):(l(),r=n,n++)}return c(),i.filter(e=>!!e.length).map(e=>e.reverse())}Object.defineProperty(t,"__esModule",{value:!0}),t.createCSSEngine=void 0,t.createCSSEngine=function(e){const t={create(t,n){if(e)return;const o=[];function r(e){const r=o.slice();e&&r.unshift(e);const i=r.join(" > ");return Array.from(t.querySelectorAll(i))[0]===n?i:void 0}for(let e=n;e&&e!==t;e=e.parentElement){const t=e.nodeName.toLowerCase();let n="";if(e.id){const t=/^[a-zA-Z][a-zA-Z0-9\-\_]+$/.test(e.id)?"#"+e.id:`[id="${e.id}"]`,o=r(t);if(o)return o;n=t}const i=e.parentElement,s=Array.from(e.classList);for(let e=0;e<s.length;++e){const t="."+s.slice(0,e+1).join("."),o=r(t);if(o)return o;!n&&i&&1===i.querySelectorAll(t).length&&(n=t)}if(i){const o=Array.from(i.children),s=1===o.filter(e=>e.nodeName.toLowerCase()===t).length?t:`${t}:nth-child(${1+o.indexOf(e)})`,l=r(s);if(l)return l;n||(n=s)}else n||(n=t);o.unshift(n)}return r()},query(t,o){const i=r(o);if(i.length)return function e(t,o,r,i){let s;if(1===r.length){const e=r[0],i=o.querySelectorAll(e[0]);for(const o of i)if(1===e.length||n(o,e,t))return o}else{s=o.querySelectorAll("*");for(const e of s)for(const o of r)if(e.matches(o[0])&&(1===o.length||n(e,o,t)))return e}if(i){if(o.shadowRoot){const n=e(t,o.shadowRoot,r,i);if(n)return n}s||(s=o.querySelectorAll("*"));for(const n of s)if(n.shadowRoot){const o=e(t,n.shadowRoot,r,i);if(o)return o}}}(t,t,i,e)},queryAll(t,o){const i=[],s=r(o);return s.length&&function e(t,o,r,i,s){let l;if(1===r.length){const e=r[0],i=o.querySelectorAll(e[0]);for(const o of i)(1===e.length||n(o,e,t))&&s.push(o)}else{l=o.querySelectorAll("*");for(const e of l)for(const o of r)e.matches(o[0])&&(1===o.length||n(e,o,t))&&s.push(e)}if(i){o.shadowRoot&&e(t,o.shadowRoot,r,i,s),l||(l=o.querySelectorAll("*"));for(const n of l)n.shadowRoot&&e(t,n.shadowRoot,r,i,s)}}(t,t,s,e,i),i}};return t._test=(()=>(function(e){let t=0;const{query:n,queryAll:o}=e;document.body.textContent="",document.body.appendChild(function e(n){const o=document.createElement("div");o.id="id"+t,o.textContent="root #id"+t,t++;const r=o.attachShadow({mode:"open"});for(let e=0;e<9;e++){const e=document.createElement("div");e.id="id"+t,e.textContent="#id"+t,t++,r.appendChild(e)}return n&&(r.appendChild(e(n-1)),r.appendChild(e(n-1))),o}(10)),console.time("found");for(let e=0;e<t;e+=17){const t=n(document,`div #id${e}`);t&&t.id==="id"+e||console.log(`div #id${e}`)}console.timeEnd("found"),console.time("not found");for(let e=0;e<t;e+=17){const t=n(document,`div div div div div #d${e}`);t&&console.log(`div div div div div #d${e}`)}console.timeEnd("not found"),console.log(n(document,"#id543 + #id544")),console.log(n(document,"#id542 ~ #id545")),console.time("all"),o(document,"div div div + div"),console.timeEnd("all")})(t)),t}}),o=e(function(e,t){function n(e){if(!e.includes("\\"))return e;const t=[];let n=0;for(;n<e.length;)"\\"===e[n]&&n+1<e.length&&n++,t.push(e[n++]);return t.join("")}function o(e){if(e.length>1&&'"'===e[0]&&'"'===e[e.length-1]){const t=n(e.substring(1,e.length-1));return e=>e===t}if(e.length>1&&"'"===e[0]&&"'"===e[e.length-1]){const t=n(e.substring(1,e.length-1));return e=>e===t}if("/"===e[0]&&e.lastIndexOf("/")>0){const t=e.lastIndexOf("/"),n=new RegExp(e.substring(1,t),e.substring(t+1));return e=>n.test(e)}return e=e.trim().toLowerCase(),t=>t.toLowerCase().includes(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.createTextSelector=void 0,t.createTextSelector=function(e){const t={create(n,r,i){if(n instanceof Document?n:n.ownerDocument)for(let i=r.firstChild;i;i=i.nextSibling)if(3===i.nodeType){const l=i.nodeValue;if(!l)continue;if(l.match(/^\s*[a-zA-Z0-9]+\s*$/)&&t.query(n,l.trim())===r)return l.trim();if(s(n,o(JSON.stringify(l)),e)===r)return JSON.stringify(l)}},query:(t,n)=>s(t,o(n),e),queryAll(t,n){const s=[];return function e(t,n,o,s){const l=t instanceof Document?t:t.ownerDocument;if(i(t,l))return;const c=l.createTreeWalker(t,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,r),u=[];o&&t.shadowRoot&&u.push(t.shadowRoot);let a=null,d="";for(;;){const e=c.nextNode(),t=e&&e.nodeType===Node.TEXT_NODE?e.parentElement:null;if(a&&t!==a&&(n(d)&&s.push(a),d=""),a=t,!e)break;if(e.nodeType===Node.TEXT_NODE)d+=e.nodeValue;else{const t=e;t instanceof HTMLInputElement&&("submit"===t.type||"button"===t.type)&&n(t.value)&&s.push(t),o&&t.shadowRoot&&u.push(t.shadowRoot)}}for(const t of u)e(t,n,o,s)}(t,o(n),e,s),s}};return t};const r={acceptNode:e=>"HEAD"===e.nodeName||"SCRIPT"===e.nodeName||"STYLE"===e.nodeName?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};function i(e,t){return"SCRIPT"===e.nodeName||"STYLE"===e.nodeName||t.head&&t.head.contains(e)}function s(e,t,n){const o=e instanceof Document?e:e.ownerDocument;if(i(e,o))return;const l=o.createTreeWalker(e,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,r),c=[];n&&e.shadowRoot&&c.push(e.shadowRoot);let u=null,a="";for(;;){const e=l.nextNode(),o=e&&e.nodeType===Node.TEXT_NODE?e.parentElement:null;if(u&&o!==u){if(t(a))return u;a=""}if(u=o,!e)break;if(e.nodeType===Node.TEXT_NODE)a+=e.nodeValue;else{const o=e;if(o instanceof HTMLInputElement&&("submit"===o.type||"button"===o.type)&&t(o.value))return o;n&&o.shadowRoot&&c.push(o.shadowRoot)}}for(const e of c){const o=s(e,t,n);if(o)return o}}}),r=e(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.XPathEngine=void 0;const n=80,o=100;t.XPathEngine={create(e,t,r){const i=e instanceof Document?e:e.ownerDocument;if(!i)return;const s=i,l=new Map;if("notext"===r)return function(e,t){const n=[];for(let o=t;o&&o!==e;o=o.parentElement){if(o.getAttribute("id"))return n.unshift(`//*[@id="${o.getAttribute("id")}"]`),n.join("/");const e=o.parentElement?Array.from(o.parentElement.children):[],t=e.filter(e=>o.nodeName===e.nodeName),r=1===t.length?0:t.indexOf(o)+1;n.unshift(r?`${o.nodeName}[${r}]`:o.nodeName)}return"/"+n.join("/")}(e,t);const c=[];function u(n){const r=c.slice();n&&r.unshift(n);let i="//"+r.join("/");for(;i.includes("///");)i=i.replace("///","//");i.endsWith("/")&&(i=i.substring(0,i.length-1));const u=function(t){let n=l.get(t);if(!n){n=[];try{const o=s.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);for(let e=o.iterateNext();e;e=o.iterateNext())e.nodeType===Node.ELEMENT_NODE&&n.push(e)}catch(e){}l.set(t,n)}return n}(i);if(u[u.length-1]===t)return i;if(u.length<5&&i.length>o){const e=u.indexOf(t);if(-1!==e)return`(${i})[${e+1}]`}}function a(e){if(-1===(e=e.substring(0,n)).indexOf("'"))return`'${e}'`;if(-1===e.indexOf('"'))return`"${e}"`;return`concat(${e.split("'").map(e=>"'"+e+"'").join(', "\'", ')})`}const d=new Set(["title","aria-label","disabled","role"]),f=new Map([["form",["action"]],["img",["alt"]],["input",["placeholder","type","name","value"]]]);let h=!1;for(let o=t;o&&o!==e;o=o.parentElement){const e=o.nodeName.toLowerCase(),t="svg"===e?"*":e,r=[];"svg"===e&&r.push('local-name()="svg"');const i=[],l=[...d,...f.get(t)||[]];for(const e of l){const t=o.getAttribute(e);t&&t.length<n?i.push(`normalize-space(@${e})=${a(t)}`):t&&i.push(`starts-with(normalize-space(@${e}), ${a(t)})`)}const g=s.evaluate("normalize-space(.)",o).stringValue,p=[];"select"!==t&&g.length&&!h&&(g.length<n?p.push(`normalize-space(.)=${a(g)}`):p.push(`starts-with(normalize-space(.), ${a(g)})`),h=!0);const m=[...r,...p,...i],E=u(m.length?`${t}[${m.join(" and ")}]`:c.length?"":t);if(E)return E;const y=o.parentElement;let N=t;if(y){const t=Array.from(y.children);t.filter(t=>t.nodeName.toLowerCase()===e).length>1&&(N+=`[${1+t.indexOf(o)}]`)}const T=[...r,...i],b=T.length?`${N}[${T.join(" and ")}]`:c.length?"":N;c.unshift(b)}return u()},query(e,t){const n=e instanceof Document?e:e.ownerDocument;if(!n)return;const o=n.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);for(let e=o.iterateNext();e;e=o.iterateNext())if(e.nodeType===Node.ELEMENT_NODE)return e},queryAll(e,t){const n=[],o=e instanceof Document?e:e.ownerDocument;if(!o)return n;const r=o.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE);for(let e=r.iterateNext();e;e=r.iterateNext())e.nodeType===Node.ELEMENT_NODE&&n.push(e);return n}}});return e(function(e,i){Object.defineProperty(i,"__esModule",{value:!0});i.default=class{constructor(e){this.engines=new Map,this.engines.set("css",n.createCSSEngine(!0)),this.engines.set("css:light",n.createCSSEngine(!1)),this.engines.set("xpath",r.XPathEngine),this.engines.set("xpath:light",r.XPathEngine),this.engines.set("text",o.createTextSelector(!0)),this.engines.set("text:light",o.createTextSelector(!1)),this.engines.set("id",t.createAttributeEngine("id",!0)),this.engines.set("id:light",t.createAttributeEngine("id",!1)),this.engines.set("data-testid",t.createAttributeEngine("data-testid",!0)),this.engines.set("data-testid:light",t.createAttributeEngine("data-testid",!1)),this.engines.set("data-test-id",t.createAttributeEngine("data-test-id",!0)),this.engines.set("data-test-id:light",t.createAttributeEngine("data-test-id",!1)),this.engines.set("data-test",t.createAttributeEngine("data-test",!0)),this.engines.set("data-test:light",t.createAttributeEngine("data-test",!1));for(const{name:t,engine:n}of e)this.engines.set(t,n)}querySelector(e,t){if(!t.querySelector)throw new Error("Node is not queryable.");return this._querySelectorRecursively(t,e,0)}_querySelectorRecursively(e,t,n){const o=t.parts[n];if(n===t.parts.length-1)return this.engines.get(o.name).query(e,o.body);const r=this.engines.get(o.name).queryAll(e,o.body);for(const e of r){const o=this._querySelectorRecursively(e,t,n+1);if(o)return t.capture===n?e:o}}}})}(),cdp4j.engine=new cdp4j.engine.default([]),cdp4j.querySelector=function(e,t){let n=cdp4j.parseSelector(t);return cdp4j.engine.querySelector(n,e)};